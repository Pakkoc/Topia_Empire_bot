# <a:DH_MINA_11:1462814922101756041> Forge 레벨업 알림

> ## <a:DH_MINA_04:1462813052138291282> 개요 및 목적
> ```- 레벨업 시 자동으로 축하 메시지 전송
> - 텍스트/음성 레벨업 알림을 각각 독립 설정
> - 커스텀 메시지 템플릿 지원```

---

> ## 1단계: 텍스트 레벨업 알림
> ### <a:DH_MINA_03:1462813029577130200> 알림 활성화
> * **textLevelUpNotificationEnabled**: 텍스트 레벨업 알림 활성화 여부
> <a:DH_MINA_03:1462813029577130200> 비활성화 시 텍스트 레벨업 알림이 전송되지 않음

> ### <a:DH_MINA_03:1462813029577130200> 알림 채널 설정
> * **textLevelUpChannelId**: 알림을 전송할 채널
> <a:DH_MINA_03:1462813029577130200> 미선택 시 알림 비활성화

> ### <a:DH_MINA_03:1462813029577130200> 메시지 템플릿
> * **textLevelUpMessage**: 텍스트 레벨업 메시지 내용
> ```기본 메시지:
> "🎉 축하합니다 {user}님! **텍스트 레벨 {level}**에 도달하셨습니다!"```

---

> ## 2단계: 음성 레벨업 알림
> ### <a:DH_MINA_03:1462813029577130200> 알림 활성화
> * **voiceLevelUpNotificationEnabled**: 음성 레벨업 알림 활성화 여부
> <a:DH_MINA_03:1462813029577130200> 비활성화 시 음성 레벨업 알림이 전송되지 않음

> ### <a:DH_MINA_03:1462813029577130200> 알림 채널 설정
> * **voiceLevelUpChannelId**: 알림을 전송할 채널
> <a:DH_MINA_03:1462813029577130200> 미선택 시 알림 비활성화

> ### <a:DH_MINA_03:1462813029577130200> 메시지 템플릿
> * **voiceLevelUpMessage**: 음성 레벨업 메시지 내용
> ```기본 메시지:
> "🎉 축하합니다 {user}님! **음성 레벨 {level}**에 도달하셨습니다!"```

---

> ## 3단계: 메시지 변수
> ### <a:DH_MINA_03:1462813029577130200> 사용 가능한 변수
> | 변수 | 설명 |
> |:---|:---|
> | `{user}` | 유저 멘션 (@유저) |
> | `{username}` | 유저 이름 (텍스트) |
> | `{displayname}` | 서버 닉네임 (없으면 유저 이름) |
> | `{level}` | 달성한 레벨 |
> | `{xp}` | 현재 총 XP |
> | `{server}` | 서버 이름 |
> | `{type}` | XP 타입 (텍스트/음성) |

> ### <a:DH_MINA_03:1462813029577130200> 디스코드 마크다운 지원
> * `**볼드**` → **볼드**
> * `*이탤릭*` → *이탤릭*
> * `__밑줄__` → 밑줄
> * `~~취소선~~` → ~~취소선~~
> * `` `코드` `` → `코드`

---

> ## 4단계: 미리보기
> ### <a:DH_MINA_03:1462813029577130200> 실시간 미리보기
> * 메시지 입력 시 디스코드 스타일로 미리보기 표시
> * 변수가 예시 값으로 치환되어 표시
> ```미리보기 예시:
> "🎉 축하합니다 @사용자님! **텍스트 레벨 5**에 도달하셨습니다!"```

---

> ## 5단계: 봇 동작 (자동 전송)
> ### <a:DH_MINA_03:1462813029577130200> 알림 전송 조건
> * 알림 활성화 상태 확인
> * 알림 채널이 설정되어 있는지 확인
> * 채널이 텍스트 기반 채널인지 확인
> <a:DH_MINA_03:1462813029577130200> 모든 조건 충족 시에만 알림 전송

> ### <a:DH_MINA_03:1462813029577130200> 알림 전송 프로세스
> ```처리 흐름:
> 1. 레벨업 감지
> 2. 알림 설정 조회 (활성화 여부, 채널, 메시지)
> 3. 변수 치환 ({user} → <@유저ID> 등)
> 4. 지정된 채널에 메시지 전송```

> ### <a:DH_MINA_03:1462813029577130200> 변수 치환 예시
> ```입력: "축하합니다 {user}님! {level}레벨 달성!"
> 출력: "축하합니다 <@123456789>님! 10레벨 달성!"```

---

> ## <a:DH_MINA_05:1462814742178693160> 주의사항 및 제약
> ### 1. 채널 미선택
> <a:DH_MINA_03:1462813029577130200> 알림 채널을 선택하지 않으면 해당 알림 비활성화
> ### 2. 변수 오타
> <a:DH_MINA_03:1462813029577130200> 변수명이 정확하지 않으면 그대로 출력됨
> ### 3. 메시지 길이
> <a:DH_MINA_03:1462813029577130200> 디스코드 메시지 제한(2000자) 내에서 작성
> ### 4. 봇 권한
> <a:DH_MINA_03:1462813029577130200> 알림 채널에 메시지 전송 권한 필요

---

> ### <a:DH_MINA_13:1462814948127146005> 요약
> - 1. **텍스트 레벨업 알림**: 텍스트 레벨 달성 시 축하 메시지 전송
> - 2. **음성 레벨업 알림**: 음성 레벨 달성 시 축하 메시지 전송
> - 3. **채널 설정**: 알림을 받을 채널 지정 (미지정 시 비활성화)
> - 4. **커스텀 메시지**: 변수와 마크다운을 활용한 메시지 커스터마이징
> - 5. **실시간 미리보기**: 디스코드 스타일로 메시지 미리보기
> - 6. **자동 전송**: 봇이 레벨업 감지 시 자동으로 알림 전송
