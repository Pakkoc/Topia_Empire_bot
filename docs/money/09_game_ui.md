# 내전 시스템 UI 가이드

> 디스코드에서 보이는 화면 기준 설명

---

## 1. 내전 패널 (메인 화면)

패널 채널에 설치되는 메인 안내 메시지입니다.

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 내전 시스템                                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  참가비를 내고 내전에 참가하세요!                              │
│                                                             │
│  💰 참가비: 100 토피                                         │
│  🏆 보상 비율: 1등 50% | 2등 30% | 3등 15% | 4등 5%           │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  📋 참가 방법                                                │
│  1. 내전 메시지에서 참가 버튼 클릭                            │
│  2. 참가비 자동 차감                                         │
│  3. 관리자가 팀 배정                                         │
│  4. 경기 후 순위 보상                                        │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  ⚠️ 관리자만 내전을 생성할 수 있습니다.                        │
└─────────────────────────────────────────────────────────────┘

        ┌──────────────────┐
        │ 🎮 내전 생성하기  │
        └──────────────────┘
```

---

## 2. 내전 생성 버튼 클릭

"내전 생성하기" 버튼을 누르면:
- **카테고리가 등록되어 있으면** → 카테고리 선택 메뉴 표시
- **카테고리가 없으면** → 직접 입력 모달 표시

### 2-1. 카테고리 선택 (카테고리가 있을 때)

카테고리가 등록되어 있으면 선택 메뉴가 표시됩니다.

```
┌─────────────────────────────────────────────────────────────┐
│  📂 카테고리 선택                                            │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ ▼ 카테고리를 선택하세요                              │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │   🎮 롤 5:5           (2팀, 팀당 5명)               │    │
│  │   🎮 롤토체스 듀오     (4팀, 팀당 2명)               │    │
│  │   🎮 롤토체스 솔로     (8팀, 팀당 1명)               │    │
│  │   🎮 배그 스쿼드       (25팀, 팀당 4명)              │    │
│  │   🎮 발로란트          (2팀, 팀당 5명)               │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

### 2-2. 직접 입력 (카테고리가 없을 때)

카테고리가 등록되어 있지 않으면 직접 입력 모달이 바로 뜹니다.

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 새 내전 생성                                    [X]     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  제목                                                       │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 예: 발로란트 내전 1차                                │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  팀 수                                                      │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 2                              (최대 100)           │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│                                          ┌────────────┐     │
│                                          │   제출     │     │
│                                          └────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. 내전 메시지 - 모집 중

내전이 생성되면 채널에 이런 메시지가 나타납니다.

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 롤 5:5 내전 1차                                 🟢       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  상태: 🟢 모집중                                             │
│                                                             │
├──────────────────┬──────────────────┬──────────────────────┤
│  💰 참가비        │  👥 참가자        │  🏆 상금 풀           │
│  100 토피        │  3/10명          │  300 토피            │
├──────────────────┴──────────────────┴──────────────────────┤
│                                                             │
│  🎁 순위별 보상                                              │
│  1등: 100% | 2등: 0%                                        │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  📋 참가자                                                   │
│  @유저1, @유저2, @유저3                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

  ┌────────┐  ┌────────┐  ┌────────────┐  ┌────────────┐
  │ ✅ 참가 │  │ ❌ 취소 │  │ 👥 팀 배정  │  │ 🗑️ 내전 취소│
  └────────┘  └────────┘  └────────────┘  └────────────┘
```

---

## 4. 팀 배정 화면

"팀 배정" 버튼을 누르면 관리자에게 팀 배정 메뉴가 표시됩니다.

```
┌─────────────────────────────────────────────────────────────┐
│  👥 팀 배정                                                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ ▼ 팀을 선택하세요                                    │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │   1️⃣ 1팀                                            │    │
│  │   2️⃣ 2팀                                            │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ ▼ 배정할 유저를 선택하세요 (복수 선택)                │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │   ☑️ @유저1                                          │    │
│  │   ☑️ @유저2                                          │    │
│  │   ☐ @유저3                                          │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│                                          ┌────────────┐     │
│                                          │   배정     │     │
│                                          └────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 5. 내전 메시지 - 팀 배정 완료

모든 참가자가 팀에 배정되면:

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 롤 5:5 내전 1차                                 🟡       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  상태: 🟡 팀 배정중                                          │
│                                                             │
├──────────────────┬──────────────────┬──────────────────────┤
│  💰 참가비        │  👥 참가자        │  🏆 상금 풀           │
│  100 토피        │  10/10명         │  1,000 토피          │
├──────────────────┴──────────────────┴──────────────────────┤
│                                                             │
│  📋 팀 구성                                                  │
│                                                             │
│  1️⃣ 1팀 (5명)                                               │
│  @유저1, @유저2, @유저3, @유저4, @유저5                       │
│                                                             │
│  2️⃣ 2팀 (5명)                                               │
│  @유저6, @유저7, @유저8, @유저9, @유저10                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

  ┌────────────┐  ┌────────────┐  ┌────────────┐
  │ ▶️ 경기 시작 │  │ 👥 팀 재배정│  │ 🗑️ 내전 취소│
  └────────────┘  └────────────┘  └────────────┘
```

---

## 6. 내전 메시지 - 경기 중

"경기 시작" 버튼을 누르면:

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 롤 5:5 내전 1차                                 🔵       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  상태: 🔵 경기중                                             │
│                                                             │
├──────────────────┬──────────────────┬──────────────────────┤
│  💰 참가비        │  👥 참가자        │  🏆 상금 풀           │
│  100 토피        │  10명            │  1,000 토피          │
├──────────────────┴──────────────────┴──────────────────────┤
│                                                             │
│  📋 팀 구성                                                  │
│                                                             │
│  1️⃣ 1팀 (5명)                                               │
│  @유저1, @유저2, @유저3, @유저4, @유저5                       │
│                                                             │
│  2️⃣ 2팀 (5명)                                               │
│  @유저6, @유저7, @유저8, @유저9, @유저10                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

                    ┌────────────┐
                    │ 🏁 경기 종료│
                    └────────────┘
```

---

## 7. 경기 종료 - 순위 선택

"경기 종료" 버튼을 누르면 순위 선택 화면이 나타납니다.

### 2팀 게임 (승자독식)

```
┌─────────────────────────────────────────────────────────────┐
│  🏆 순위 선택                                                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🥇 1등 (100% 보상)                                          │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ ▼ 1등 팀을 선택하세요                                │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │   1️⃣ 1팀                                            │    │
│  │   2️⃣ 2팀                                            │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ※ 2등은 자동으로 설정됩니다 (0% 보상)                        │
│                                                             │
│                                          ┌────────────┐     │
│                                          │   완료     │     │
│                                          └────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

### 다팀 게임 (롤토체스, 배그 등)

```
┌─────────────────────────────────────────────────────────────┐
│  🏆 순위 선택                                                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🥇 1등 (40%)          🥈 2등 (25%)                          │
│  ┌───────────────┐     ┌───────────────┐                    │
│  │ ▼ 1팀        │     │ ▼ 3팀        │                    │
│  └───────────────┘     └───────────────┘                    │
│                                                             │
│  🥉 3등 (20%)          4️⃣ 4등 (15%)                          │
│  ┌───────────────┐     ┌───────────────┐                    │
│  │ ▼ 5팀        │     │ ▼ 2팀        │                    │
│  └───────────────┘     └───────────────┘                    │
│                                                             │
│                                          ┌────────────┐     │
│                                          │   완료     │     │
│                                          └────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 8. 내전 메시지 - 완료

순위 입력 후 보상이 자동 지급되고 결과가 표시됩니다.

```
┌─────────────────────────────────────────────────────────────┐
│  🎮 롤 5:5 내전 1차                                 ✅       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  상태: ✅ 완료                                               │
│                                                             │
├──────────────────┬──────────────────┬──────────────────────┤
│  💰 참가비        │  👥 참가자        │  🏆 상금 풀           │
│  100 토피        │  10명            │  1,000 토피          │
├──────────────────┴──────────────────┴──────────────────────┤
│                                                             │
│  🏆 결과                                                     │
│                                                             │
│  🥇 1등: 1팀 (1,000 토피 → 200 토피/인)                       │
│  @유저1, @유저2, @유저3, @유저4, @유저5                       │
│                                                             │
│  💀 2등: 2팀 (0 토피)                                        │
│  @유저6, @유저7, @유저8, @유저9, @유저10                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

              (버튼 없음 - 완료된 게임)
```

---

## 9. 웹 대시보드 - 설정 화면

웹 대시보드에서 내전 시스템을 설정하는 화면입니다.

```
┌─────────────────────────────────────────────────────────────────────┐
│  💼 대시보드  >  화폐 시스템  >  내전 시스템                           │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │  🎮 내전 시스템 안내                                         │    │
│  │  • 관리자가 패널에서 내전을 생성합니다                         │    │
│  │  • 유저들이 참가비를 내고 참가합니다                           │    │
│  │  • 관리자가 참가자들을 팀별로 배정합니다                       │    │
│  │  • 경기 종료 후 관리자가 순위를 입력하면 자동 보상              │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                     │
│  ═══════════════════════════════════════════════════════════════    │
│                                                                     │
│  📺 패널 설정                                                        │
│  ┌─────────────────────────────────────┐  ┌───────────────┐         │
│  │ ▼ #내전-채널                        │  │  패널 설치    │         │
│  └─────────────────────────────────────┘  └───────────────┘         │
│                                                                     │
│  ═══════════════════════════════════════════════════════════════    │
│                                                                     │
│  ⚙️ 기본 설정                                                        │
│                                                                     │
│  관리자 역할                   참가비                                │
│  ┌─────────────────────┐      ┌─────────────────────┐               │
│  │ ▼ @내전관리자       │      │ 100                 │ 토피          │
│  └─────────────────────┘      └─────────────────────┘               │
│                                                                     │
│  순위별 보상 비율                                                    │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐                        │
│  │ 1등    │ │ 2등    │ │ 3등    │ │ 4등    │                        │
│  │  50 %  │ │  30 %  │ │  15 %  │ │   5 %  │                        │
│  └────────┘ └────────┘ └────────┘ └────────┘                        │
│                                                                     │
│                                           ┌───────────────┐         │
│                                           │   설정 저장   │         │
│                                           └───────────────┘         │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 10. 웹 대시보드 - 카테고리 관리

```
┌─────────────────────────────────────────────────────────────────────┐
│  📂 카테고리 관리                                                    │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │  새 카테고리 추가                                            │    │
│  │                                                             │    │
│  │  이름              팀 수           팀당 인원                  │    │
│  │  ┌──────────┐     ┌──────────┐     ┌──────────┐              │    │
│  │  │ 롤 5:5   │     │    2     │     │    5     │              │    │
│  │  └──────────┘     └──────────┘     └──────────┘              │    │
│  │                                                             │    │
│  │  ☑️ 승자독식 (2팀일 때 1등 100%, 2등 0%)                      │    │
│  │                                                             │    │
│  │                                   ┌───────────────┐          │    │
│  │                                   │  카테고리 추가 │          │    │
│  │                                   └───────────────┘          │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                     │
│  ═══════════════════════════════════════════════════════════════    │
│                                                                     │
│  등록된 카테고리                                                     │
│                                                                     │
│  ┌─────────────────────────────────────────────────────────────┐    │
│  │  🎮 롤 5:5                                                   │    │
│  │  2팀 · 팀당 5명 · 승자독식                          [🗑️삭제] │    │
│  ├─────────────────────────────────────────────────────────────┤    │
│  │  🎮 롤토체스 듀오                                            │    │
│  │  4팀 · 팀당 2명                                     [🗑️삭제] │    │
│  ├─────────────────────────────────────────────────────────────┤    │
│  │  🎮 롤토체스 솔로                                            │    │
│  │  8팀 · 팀당 1명                                     [🗑️삭제] │    │
│  ├─────────────────────────────────────────────────────────────┤    │
│  │  🎮 배그 스쿼드                                              │    │
│  │  25팀 · 팀당 4명                                    [🗑️삭제] │    │
│  └─────────────────────────────────────────────────────────────┘    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 흐름 다이어그램

### 전체 운영 흐름

```
                    ┌──────────────┐
                    │   패널 설치   │
                    └──────┬───────┘
                           │
                           ▼
┌──────────────────────────────────────────────────────────────────────┐
│                         내전 패널 (메인)                              │
│  ┌──────────────┐                        ┌──────────────┐            │
│  │ 🎮 내전 생성  │ ─────────┬────────────│ ⚙️ 카테고리   │            │
│  └──────────────┘          │             └──────────────┘            │
└────────────────────────────┼─────────────────────────────────────────┘
                             │
            ┌────────────────┴────────────────┐
            ▼                                 ▼
   ┌─────────────────┐               ┌─────────────────┐
   │   직접 입력     │               │  카테고리 선택   │
   │ (제목 + 팀 수)  │               │   (제목만)      │
   └────────┬────────┘               └────────┬────────┘
            │                                 │
            └────────────────┬────────────────┘
                             ▼
                    ┌─────────────────┐
                    │   🟢 모집중     │ ◄─────────────────┐
                    │  (참가 버튼)    │                   │
                    └────────┬────────┘                   │
                             │ 참가자 모집                 │ 참가 취소
                             ▼                            │
                    ┌─────────────────┐                   │
                    │   👥 팀 배정    │ ──────────────────┘
                    │  (관리자 작업)  │
                    └────────┬────────┘
                             │ 모든 참가자 배정
                             ▼
                    ┌─────────────────┐
                    │  🟡 팀 배정중   │
                    │ (경기 시작 대기) │
                    └────────┬────────┘
                             │ 경기 시작
                             ▼
                    ┌─────────────────┐
                    │   🔵 경기중     │
                    │ (경기 종료 대기) │
                    └────────┬────────┘
                             │ 경기 종료 + 순위 입력
                             ▼
                    ┌─────────────────┐
                    │   ✅ 완료      │
                    │  (보상 자동 지급)│
                    └─────────────────┘
```

### 보상 계산 흐름

```
┌─────────────────────────────────────────────────────────────────────┐
│                         보상 계산 흐름                               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   참가비 100 × 10명 = 1,000 토피 (상금풀)                            │
│                        │                                            │
│                        ▼                                            │
│   ┌──────────────────────────────────────────────────────────┐      │
│   │  2팀 게임 (승자독식)?                                     │      │
│   └──────────────────────────────────────────────────────────┘      │
│           │ YES                              │ NO                   │
│           ▼                                  ▼                      │
│   ┌──────────────┐                  ┌──────────────────────┐        │
│   │ 1등: 100%    │                  │ 순위별 비율 적용      │        │
│   │ 2등: 0%      │                  │ 1등: 50% = 500 토피  │        │
│   └──────────────┘                  │ 2등: 30% = 300 토피  │        │
│           │                         │ 3등: 15% = 150 토피  │        │
│           │                         │ 4등: 5% = 50 토피    │        │
│           │                         └──────────────────────┘        │
│           │                                  │                      │
│           └────────────────┬─────────────────┘                      │
│                            ▼                                        │
│   ┌──────────────────────────────────────────────────────────┐      │
│   │  1인당 보상 = 팀 보상 ÷ 팀 인원수                          │      │
│   └──────────────────────────────────────────────────────────┘      │
│                            │                                        │
│                            ▼                                        │
│   ┌──────────────────────────────────────────────────────────┐      │
│   │  각 참가자 지갑에 보상 지급 + 거래 기록 저장               │      │
│   └──────────────────────────────────────────────────────────┘      │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 상태별 색상 안내

| 상태 | 색상 | 아이콘 | 의미 |
|-----|------|-------|------|
| 모집중 | 🟢 초록색 | `🟢` | 참가 가능 |
| 팀 배정중 | 🟡 노란색 | `🟡` | 팀 배정 진행 |
| 경기중 | 🔵 파란색 | `🔵` | 경기 진행 |
| 완료 | ⬜ 회색 | `✅` | 종료됨 |
| 취소됨 | 🔴 빨간색 | `❌` | 취소 (환불됨) |
